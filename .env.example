# Database Configuration
# For Vercel Postgres (or Neon after migration)
POSTGRES_URL=postgresql://username:password@host:port/database
POSTGRES_PRISMA_URL=postgresql://username:password@host:port/database?pgbouncer=true
POSTGRES_URL_NON_POOLING=postgresql://username:password@host:port/database

# JWT Secret for token signing
# Generate a strong random string for production
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# BETA MODE - Enable creator self-signup without subscription enforcement
# Set to 'true' to enable password-based creator registration
BETA_MODE=false

# Database initialization secret
# Required to run /api/init-db endpoint
DB_INIT_SECRET=your-secret-key-for-db-init

# Daily.co configuration (REQUIRED for Phase 1 join token minting)
DAILY_API_KEY=your-daily-api-key-required

# Optional: Deepgram API key for transcription
DEEPGRAM_KEY=your-deepgram-api-key-optional

# Email configuration for magic-link authentication (REQUIRED for Phase 1)
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Application base URL for magic-link redirects (REQUIRED for Phase 1)
APP_BASE_URL=https://cambridge.app

# Phase 0: Provider Configuration
# Video Provider: daily | alt (default: daily)
VIDEO_PROVIDER=daily
DAILY_DOMAIN=cambridge

# Email Provider: resend | console | alt (default: resend)
# Use 'console' for development to log emails instead of sending
EMAIL_PROVIDER=resend

# Payments Provider: manual | database | ccbill | segpay | alt (default: manual)
# manual = off-platform billing, creators manage their own subscriptions
# database = track subscription status in database
PAYMENTS_PROVIDER=manual
PAYMENTS_MODE=offplatform_flat

# Pre-launch Beta Controls
PRELAUNCH_BETA=true
PAYMENTS_PAUSED=true
EMAIL_PAUSED=true

# Stripe Payments (Phase 3.2)
STRIPE_SECRET_KEY=sk_test_your_key
STRIPE_PUBLIC_KEY=pk_test_your_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
# Optional price IDs (if using Stripe Prices instead of price_data)
STRIPE_PRICE_PRO=price_pro_id
STRIPE_PRICE_ENTERPRISE=price_enterprise_id

# Storage Provider: noop | local | s3 | alt (default: noop)
# noop = privacy-first, no storage
# local = filesystem storage (dev only)
STORAGE_PROVIDER=noop
STORAGE_PATH=/tmp/cambridge-storage

# Phase 0: Kill Switch Configuration
# Set to 'false' to disable specific operations platform-wide
# All default to enabled (any value other than 'false' is enabled)
KILL_SWITCH_SIGNUPS=true
KILL_SWITCH_NEW_ROOMS=true
KILL_SWITCH_JOIN_APPROVALS=true
KILL_SWITCH_NEW_CREATORS=true
